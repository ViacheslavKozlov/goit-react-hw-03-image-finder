{"version":3,"sources":["Components/imageGalleryItem/ImageGalleryItem.module.css","Components/modal/Modal.module.css","Components/loader/Loader.module.css","Components/imageGallery/ImageGallery.module.css","Components/button/Button.module.css","Components/App.module.css","Components/searchBar/SearchBar.module.css","API/Api.js","Components/loader/Loader.js","Components/searchBar/SearchBar.js","Components/imageGalleryItem/ImageGalleryItem.js","Components/imageGallery/ImageGallery.js","Components/button/Button.js","Components/modal/Modal.js","Components/App.js","index.js"],"names":["module","exports","getImages","name","page","a","axios","get","res","data","hits","Spinner","className","style","spinnerWrapper","type","color","height","weidht","timeout","SearchBar","onSubmit","Searchbar","evt","preventDefault","target","elements","searchImage","value","toLowerCase","SearchForm","SearchFormbutton","SearchFormbuttonlabel","SearchForminput","autoComplete","autoFocus","placeholder","ImageGalleryItem","image","onClick","id","webformatURL","tags","src","alt","ImageGalleryItemimage","ImageGallery","images","map","Button","modalRoot","document","querySelector","Modal","handleEsc","code","props","handleBackdropClick","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","scr","Component","App","state","selectedImage","status","error","showModal","handleSubmit","setState","handleloadMore","prevState","toggleModal","imageURL","prevProps","gallery","trim","length","console","log","alert","scrollTo","top","documentElement","scrollHeight","behavior","showLoadmoreBtn","largeImageURL","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4e30620e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3SaBd\",\"ImageGalleryItemimage\":\"ImageGalleryItem_ImageGalleryItemimage__3l2ld\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2o3ca\",\"Modal\":\"Modal_Modal__3A_Sq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinnerWrapper\":\"Loader_spinnerWrapper__3GA9Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Jy0A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2tymU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__-gifw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3o2_l\",\"SearchForm\":\"SearchBar_SearchForm__2zh2h\",\"SearchFormbutton\":\"SearchBar_SearchFormbutton__3QzGG\",\"SearchFormbuttonlabel\":\"SearchBar_SearchFormbuttonlabel__3xv64\",\"SearchForminput\":\"SearchBar_SearchForminput__3b-_-\"};","import axios from \"axios\";\n\nexport const getImages = async (name, page) => {\n  const API_KEY = \"23294543-72cf202e86e11bc05e525db7a\";\n  const URL = \"https://pixabay.com/api\";\n\n  const res = await axios.get(\n    `${URL}/?q=${name}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  );\n  return res.data.hits;\n};\n// console.log(getImages());\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport style from \"./Loader.module.css\";\n\nconst Spinner = () => {\n  return (\n    <>\n      <div className={style.spinnerWrapper}>\n        {\" \"}\n        <Loader type=\"BallTriangle\" color=\"#0a121634\" height={100} weidht={100} timeout={15000} />\n      </div>\n    </>\n  );\n};\n\nexport default Spinner;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"./SearchBar.module.css\";\n\nconst SearchBar = ({ onSubmit }) => {\n  const handleSearch = evt => {\n    evt.preventDefault();\n    onSubmit(evt.target.elements.searchImage.value.toLowerCase());\n  };\n\n  return (\n    <header className={style.Searchbar}>\n      <form onSubmit={handleSearch} className={style.SearchForm}>\n        <button type=\"submit\" className={style.SearchFormbutton}>\n          <span className={style.SearchFormbuttonlabel}>Search</span>\n        </button>\n        <input\n          className={style.SearchForminput}\n          name=\"searchImage\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired\n};\n\nexport default SearchBar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ image, onClick }) => {\n  const { id, webformatURL, tags } = image;\n  return (\n    <>\n      <li className={style.ImageGalleryItem}>\n        <img onClick={onClick} key={id} src={webformatURL} alt={tags} className={style.ImageGalleryItemimage} />\n      </li>\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  image: PropTypes.object.isRequired\n};\n\nexport default ImageGalleryItem;\n","// 23294543-72cf202e86e11bc05e525db7a\n// https://pixabay.com/api/?q=что_искать&page=1&key=23294543-72cf202e86e11bc05e525db7a&image_type=photo&orientation=horizontal&per_page=12\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"./ImageGallery.module.css\";\n\n// import { getImages } from \"../../API/Api\";\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ images, onClick }) => {\n  return (\n    <>\n      <ul className={style.ImageGallery}>\n        {images.map((image, id) => (\n          <ImageGalleryItem onClick={() => onClick(image)} key={id} image={image} />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object),\n  onSelect: PropTypes.func\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <>\n      <button className={style.Button} onClick={onClick} type=\"button\">\n        Load more\n      </button>\n    </>\n  );\n};\n\nButton.propTypes = {\n  onclick: PropTypes.func\n};\n\nexport default Button;\n\n// window.scrollTo({\n//   top: document.documentElement.scrollHeight,\n//   behavior: \"smooth\"\n// });\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport style from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleEsc);\n  }\n\n  handleEsc = evt => evt.code === \"Escape\" && this.props.onClick();\n\n  handleBackdropClick = evt => evt.currentTarget === evt.target && this.props.onClick();\n\n  render() {\n    return createPortal(\n      <div className={style.Overlay} onClick={this.handleBackdropClick}>\n        <div className={style.Modal}>\n          <img src={this.props.scr} alt={this.props.alt} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nModal.propTypes = {\n  handleEsc: PropTypes.func,\n  handleBackdropClick: PropTypes.func\n};\n\nexport default Modal;\n","import { Component } from \"react\";\nimport { getImages } from \"../API/Api\";\nimport Spinner from \"./loader/Loader\";\nimport SearchBar from \"./searchBar/SearchBar\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Button from \"./button/Button\";\nimport Modal from \"./modal/Modal\";\nimport style from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    page: 1,\n    selectedImage: null,\n    searchImage: null,\n    status: \"idle\",\n    error: null,\n    showModal: false\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { searchImage, page } = this.state;\n    if (prevState.searchImage !== searchImage || prevState.page !== page) {\n      try {\n        this.setState({ status: \"pending\" });\n        const gallery = await getImages(searchImage, page);\n        this.setState({ status: \"resolved\" });\n        if (searchImage.trim() === \"\" || gallery.length === 0) {\n          return console.log(alert(`there r no images`));\n        }\n\n        this.setState({ images: [...this.state.images, ...gallery] });\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\"\n        });\n      } catch (err) {\n        this.setState({ status: \"reject\" });\n        console.log(alert(`this is the end`));\n      }\n    }\n  }\n\n  handleSubmit = searchImage => {\n    this.setState({ searchImage: searchImage, page: 1, images: [] });\n  };\n\n  handleloadMore = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  toggleModal = imageURL => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      selectedImage: imageURL\n    }));\n  };\n\n  render() {\n    const { images, status, showModal, selectedImage } = this.state;\n    const showLoadmoreBtn = images.length >= 1;\n\n    return (\n      <>\n        <div className={style.App}>\n          <SearchBar onSubmit={this.handleSubmit} />\n          {status === \"pending\" && <Spinner />}\n          <ImageGallery images={images} onClick={this.toggleModal} />\n          {showLoadmoreBtn && <Button onClick={this.handleloadMore} />}\n          {showModal && <Modal onClick={this.toggleModal} scr={selectedImage.largeImageURL} alt={selectedImage.tags} />}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}